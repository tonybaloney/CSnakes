// <auto-generated/>
#nullable enable
using CSnakes.Runtime;
using CSnakes.Runtime.Python;

using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Reflection.Metadata;

using Microsoft.Extensions.Logging;

[assembly: MetadataUpdateHandler(typeof(Python.Generated.Tests.TestClassExtensions))]

namespace Python.Generated.Tests;
public static class TestClassExtensions
{
    private static ITestClass? instance;

    private static ReadOnlySpan<byte> HotReloadHash => "f1fa8fc563a0275a101752e22be2d99a"u8;

    public static ITestClass TestClass(this IPythonEnvironment env)
    {
        if (instance is null)
        {
            instance = new TestClassInternal(env.Logger);
        }
        Debug.Assert(!env.IsDisposed());
        return instance;
    }

    public static void UpdateApplication(Type[]? updatedTypes) {
        instance?.ReloadModule();
    }

    private class TestClassInternal : ITestClass
    {
        private PyObject module;

        private readonly ILogger<IPythonEnvironment> logger;
        private PyObject __func_positional_only_args;
private PyObject __func_collect_star_args;
private PyObject __func_keyword_only_args;
private PyObject __func_collect_star_star_kwargs;
private PyObject __func_positional_and_kwargs;
private PyObject __func_collect_star_args_and_keyword_only_args;

        internal TestClassInternal(ILogger<IPythonEnvironment> logger)
        {
            this.logger = logger;
            using (GIL.Acquire())
            {
                logger.LogDebug("Importing module {ModuleName}", "test");
                module = Import.ImportModule("test");
                this.__func_positional_only_args = module.GetAttr("positional_only_args");
this.__func_collect_star_args = module.GetAttr("collect_star_args");
this.__func_keyword_only_args = module.GetAttr("keyword_only_args");
this.__func_collect_star_star_kwargs = module.GetAttr("collect_star_star_kwargs");
this.__func_positional_and_kwargs = module.GetAttr("positional_and_kwargs");
this.__func_collect_star_args_and_keyword_only_args = module.GetAttr("collect_star_args_and_keyword_only_args");
            }
        }

        void IReloadableModuleImport.ReloadModule() {
            logger.LogDebug("Reloading module {ModuleName}", "test");
            using (GIL.Acquire())
            {
                Import.ReloadModule(ref module);
                // Dispose old functions
                this.__func_positional_only_args.Dispose();
this.__func_collect_star_args.Dispose();
this.__func_keyword_only_args.Dispose();
this.__func_collect_star_star_kwargs.Dispose();
this.__func_positional_and_kwargs.Dispose();
this.__func_collect_star_args_and_keyword_only_args.Dispose();
                this.__func_positional_only_args = module.GetAttr("positional_only_args");
this.__func_collect_star_args = module.GetAttr("collect_star_args");
this.__func_keyword_only_args = module.GetAttr("keyword_only_args");
this.__func_collect_star_star_kwargs = module.GetAttr("collect_star_star_kwargs");
this.__func_positional_and_kwargs = module.GetAttr("positional_and_kwargs");
this.__func_collect_star_args_and_keyword_only_args = module.GetAttr("collect_star_args_and_keyword_only_args");
            }
        }

        public void Dispose()
        {
            logger.LogDebug("Disposing module {ModuleName}", "test");
            this.__func_positional_only_args.Dispose();
this.__func_collect_star_args.Dispose();
this.__func_keyword_only_args.Dispose();
this.__func_collect_star_star_kwargs.Dispose();
this.__func_positional_and_kwargs.Dispose();
this.__func_collect_star_args_and_keyword_only_args.Dispose();
            module.Dispose();
        }

        public long PositionalOnlyArgs(long a, long b, long c)
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "positional_only_args");
        PyObject __underlyingPythonFunc = this.__func_positional_only_args;
        using PyObject a_pyObject = PyObject.From(a)!;
        using PyObject b_pyObject = PyObject.From(b)!;
        using PyObject c_pyObject = PyObject.From(c)!;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call(a_pyObject, b_pyObject, c_pyObject);
        return __result_pyObject.As<long>();
    }
}public long CollectStarArgs(long a, long b, PyObject[]? args = null)
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "collect_star_args");
        PyObject __underlyingPythonFunc = this.__func_collect_star_args;
        using PyObject a_pyObject = PyObject.From(a)!;
        using PyObject b_pyObject = PyObject.From(b)!;
        using PyObject __result_pyObject = __underlyingPythonFunc.CallWithArgs([a_pyObject, b_pyObject, ..args ?? []]);
        return __result_pyObject.As<long>();
    }
}public long KeywordOnlyArgs(long a, long b, long c, PyObject[]? args = null)
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "keyword_only_args");
        PyObject __underlyingPythonFunc = this.__func_keyword_only_args;
        using PyObject a_pyObject = PyObject.From(a)!;
        using PyObject b_pyObject = PyObject.From(b)!;
        using PyObject c_pyObject = PyObject.From(c)!;
        using PyObject __result_pyObject = __underlyingPythonFunc.CallWithKeywordArguments([a_pyObject, ..args ?? []], ["b", "c"], [b_pyObject, c_pyObject], null);
        return __result_pyObject.As<long>();
    }
}public long CollectStarStarKwargs(long a, long b, IReadOnlyDictionary<string, PyObject>? kwargs = null)
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "collect_star_star_kwargs");
        PyObject __underlyingPythonFunc = this.__func_collect_star_star_kwargs;
        using PyObject a_pyObject = PyObject.From(a)!;
        using PyObject b_pyObject = PyObject.From(b)!;
        using PyObject __result_pyObject = __underlyingPythonFunc.CallWithKeywordArguments([a_pyObject, b_pyObject], [], [], kwargs);
        return __result_pyObject.As<long>();
    }
}public long PositionalAndKwargs(long a, long b, long c, PyObject[]? args = null, IReadOnlyDictionary<string, PyObject>? kwargs = null)
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "positional_and_kwargs");
        PyObject __underlyingPythonFunc = this.__func_positional_and_kwargs;
        using PyObject a_pyObject = PyObject.From(a)!;
        using PyObject b_pyObject = PyObject.From(b)!;
        using PyObject c_pyObject = PyObject.From(c)!;
        using PyObject __result_pyObject = __underlyingPythonFunc.CallWithKeywordArguments([a_pyObject, b_pyObject, ..args ?? []], ["c"], [c_pyObject], kwargs);
        return __result_pyObject.As<long>();
    }
}public long CollectStarArgsAndKeywordOnlyArgs(long a, long b, long c, PyObject[]? args = null)
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "collect_star_args_and_keyword_only_args");
        PyObject __underlyingPythonFunc = this.__func_collect_star_args_and_keyword_only_args;
        using PyObject a_pyObject = PyObject.From(a)!;
        using PyObject b_pyObject = PyObject.From(b)!;
        using PyObject c_pyObject = PyObject.From(c)!;
        using PyObject __result_pyObject = __underlyingPythonFunc.CallWithKeywordArguments([a_pyObject, b_pyObject, ..args ?? []], ["c"], [c_pyObject], null);
        return __result_pyObject.As<long>();
    }
}
    }
}
public interface ITestClass : IReloadableModuleImport
{
    public long PositionalOnlyArgs(long a, long b, long c);
public long CollectStarArgs(long a, long b, PyObject[]? args = null);
public long KeywordOnlyArgs(long a, long b, long c, PyObject[]? args = null);
public long CollectStarStarKwargs(long a, long b, IReadOnlyDictionary<string, PyObject>? kwargs = null);
public long PositionalAndKwargs(long a, long b, long c, PyObject[]? args = null, IReadOnlyDictionary<string, PyObject>? kwargs = null);
public long CollectStarArgsAndKeywordOnlyArgs(long a, long b, long c, PyObject[]? args = null);
}