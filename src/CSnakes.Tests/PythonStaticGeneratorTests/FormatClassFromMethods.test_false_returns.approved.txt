// <auto-generated/>
#nullable enable
using CSnakes.Runtime;
using CSnakes.Runtime.Python;

using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Reflection.Metadata;

using Microsoft.Extensions.Logging;

[assembly: MetadataUpdateHandler(typeof(Python.Generated.Tests.TestClassExtensions))]

namespace Python.Generated.Tests;
public static class TestClassExtensions
{
    private static ITestClass? instance;

    private static ReadOnlySpan<byte> HotReloadHash => "c64ed6dc93e3fe363b6fe2b4a69c095b"u8;

    public static ITestClass TestClass(this IPythonEnvironment env)
    {
        if (instance is null)
        {
            instance = new TestClassInternal(env.Logger);
        }
        Debug.Assert(!env.IsDisposed());
        return instance;
    }

    public static void UpdateApplication(Type[]? updatedTypes) {
        instance?.ReloadModule();
    }

    private class TestClassInternal : ITestClass
    {
        private PyObject module;

        private readonly ILogger<IPythonEnvironment> logger;
        private PyObject __func_test_str_actually_returns_int;
private PyObject __func_test_str_actually_returns_float;
private PyObject __func_test_str_actually_returns_list;
private PyObject __func_test_str_actually_returns_tuple;
private PyObject __func_test_tuple_actually_returns_int;
private PyObject __func_test_tuple_actually_returns_float;
private PyObject __func_test_tuple_actually_returns_list;
private PyObject __func_test_float_returns_int;
private PyObject __func_test_float_returns_str;
private PyObject __func_test_int_returns_float;
private PyObject __func_test_int_returns_str;
private PyObject __func_test_int_overflows;

        internal TestClassInternal(ILogger<IPythonEnvironment> logger)
        {
            this.logger = logger;
            using (GIL.Acquire())
            {
                logger.LogDebug("Importing module {ModuleName}", "test");
                module = Import.ImportModule("test");
                this.__func_test_str_actually_returns_int = module.GetAttr("test_str_actually_returns_int");
this.__func_test_str_actually_returns_float = module.GetAttr("test_str_actually_returns_float");
this.__func_test_str_actually_returns_list = module.GetAttr("test_str_actually_returns_list");
this.__func_test_str_actually_returns_tuple = module.GetAttr("test_str_actually_returns_tuple");
this.__func_test_tuple_actually_returns_int = module.GetAttr("test_tuple_actually_returns_int");
this.__func_test_tuple_actually_returns_float = module.GetAttr("test_tuple_actually_returns_float");
this.__func_test_tuple_actually_returns_list = module.GetAttr("test_tuple_actually_returns_list");
this.__func_test_float_returns_int = module.GetAttr("test_float_returns_int");
this.__func_test_float_returns_str = module.GetAttr("test_float_returns_str");
this.__func_test_int_returns_float = module.GetAttr("test_int_returns_float");
this.__func_test_int_returns_str = module.GetAttr("test_int_returns_str");
this.__func_test_int_overflows = module.GetAttr("test_int_overflows");
            }
        }

        void IReloadableModuleImport.ReloadModule() {
            logger.LogDebug("Reloading module {ModuleName}", "test");
            using (GIL.Acquire())
            {
                Import.ReloadModule(ref module);
                // Dispose old functions
                this.__func_test_str_actually_returns_int.Dispose();
this.__func_test_str_actually_returns_float.Dispose();
this.__func_test_str_actually_returns_list.Dispose();
this.__func_test_str_actually_returns_tuple.Dispose();
this.__func_test_tuple_actually_returns_int.Dispose();
this.__func_test_tuple_actually_returns_float.Dispose();
this.__func_test_tuple_actually_returns_list.Dispose();
this.__func_test_float_returns_int.Dispose();
this.__func_test_float_returns_str.Dispose();
this.__func_test_int_returns_float.Dispose();
this.__func_test_int_returns_str.Dispose();
this.__func_test_int_overflows.Dispose();
                this.__func_test_str_actually_returns_int = module.GetAttr("test_str_actually_returns_int");
this.__func_test_str_actually_returns_float = module.GetAttr("test_str_actually_returns_float");
this.__func_test_str_actually_returns_list = module.GetAttr("test_str_actually_returns_list");
this.__func_test_str_actually_returns_tuple = module.GetAttr("test_str_actually_returns_tuple");
this.__func_test_tuple_actually_returns_int = module.GetAttr("test_tuple_actually_returns_int");
this.__func_test_tuple_actually_returns_float = module.GetAttr("test_tuple_actually_returns_float");
this.__func_test_tuple_actually_returns_list = module.GetAttr("test_tuple_actually_returns_list");
this.__func_test_float_returns_int = module.GetAttr("test_float_returns_int");
this.__func_test_float_returns_str = module.GetAttr("test_float_returns_str");
this.__func_test_int_returns_float = module.GetAttr("test_int_returns_float");
this.__func_test_int_returns_str = module.GetAttr("test_int_returns_str");
this.__func_test_int_overflows = module.GetAttr("test_int_overflows");
            }
        }

        public void Dispose()
        {
            logger.LogDebug("Disposing module {ModuleName}", "test");
            this.__func_test_str_actually_returns_int.Dispose();
this.__func_test_str_actually_returns_float.Dispose();
this.__func_test_str_actually_returns_list.Dispose();
this.__func_test_str_actually_returns_tuple.Dispose();
this.__func_test_tuple_actually_returns_int.Dispose();
this.__func_test_tuple_actually_returns_float.Dispose();
this.__func_test_tuple_actually_returns_list.Dispose();
this.__func_test_float_returns_int.Dispose();
this.__func_test_float_returns_str.Dispose();
this.__func_test_int_returns_float.Dispose();
this.__func_test_int_returns_str.Dispose();
this.__func_test_int_overflows.Dispose();
            module.Dispose();
        }

        public string TestStrActuallyReturnsInt()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_str_actually_returns_int");
        PyObject __underlyingPythonFunc = this.__func_test_str_actually_returns_int;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<string>();
    }
}public string TestStrActuallyReturnsFloat()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_str_actually_returns_float");
        PyObject __underlyingPythonFunc = this.__func_test_str_actually_returns_float;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<string>();
    }
}public string TestStrActuallyReturnsList()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_str_actually_returns_list");
        PyObject __underlyingPythonFunc = this.__func_test_str_actually_returns_list;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<string>();
    }
}public string TestStrActuallyReturnsTuple()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_str_actually_returns_tuple");
        PyObject __underlyingPythonFunc = this.__func_test_str_actually_returns_tuple;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<string>();
    }
}public (long, long) TestTupleActuallyReturnsInt()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_tuple_actually_returns_int");
        PyObject __underlyingPythonFunc = this.__func_test_tuple_actually_returns_int;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<(long, long)>();
    }
}public (double, double) TestTupleActuallyReturnsFloat()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_tuple_actually_returns_float");
        PyObject __underlyingPythonFunc = this.__func_test_tuple_actually_returns_float;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<(double, double)>();
    }
}public (IReadOnlyList<long>, IReadOnlyList<long>) TestTupleActuallyReturnsList()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_tuple_actually_returns_list");
        PyObject __underlyingPythonFunc = this.__func_test_tuple_actually_returns_list;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<(IReadOnlyList<long>, IReadOnlyList<long>)>();
    }
}public double TestFloatReturnsInt()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_float_returns_int");
        PyObject __underlyingPythonFunc = this.__func_test_float_returns_int;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<double>();
    }
}public double TestFloatReturnsStr()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_float_returns_str");
        PyObject __underlyingPythonFunc = this.__func_test_float_returns_str;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<double>();
    }
}public long TestIntReturnsFloat()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_int_returns_float");
        PyObject __underlyingPythonFunc = this.__func_test_int_returns_float;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<long>();
    }
}public long TestIntReturnsStr()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_int_returns_str");
        PyObject __underlyingPythonFunc = this.__func_test_int_returns_str;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<long>();
    }
}public long TestIntOverflows()
{
    using (GIL.Acquire())
    {
        logger.LogDebug("Invoking Python function: {FunctionName}", "test_int_overflows");
        PyObject __underlyingPythonFunc = this.__func_test_int_overflows;
        using PyObject __result_pyObject = __underlyingPythonFunc.Call();
        return __result_pyObject.As<long>();
    }
}
    }
}
public interface ITestClass : IReloadableModuleImport
{
    public string TestStrActuallyReturnsInt();
public string TestStrActuallyReturnsFloat();
public string TestStrActuallyReturnsList();
public string TestStrActuallyReturnsTuple();
public (long, long) TestTupleActuallyReturnsInt();
public (double, double) TestTupleActuallyReturnsFloat();
public (IReadOnlyList<long>, IReadOnlyList<long>) TestTupleActuallyReturnsList();
public double TestFloatReturnsInt();
public double TestFloatReturnsStr();
public long TestIntReturnsFloat();
public long TestIntReturnsStr();
public long TestIntOverflows();
}